"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[754],{3754:(e,s,t)=>{t.r(s),t.d(s,{default:()=>D});var i=t(2791);const o="ProfileInfo_diskBlock__Hi+ni",r="ProfileInfo_ava__Bm-FQ";var n=t(5778),l=t(8962),a=t(184);const d=e=>{let{updateStatus:s,profileStatus:t}=e;(0,i.useEffect)((()=>{l(n)}),[t]);const[o,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(t);return(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[!o&&(0,a.jsx)("div",{children:(0,a.jsxs)("span",{onDoubleClick:()=>{r(!o)},children:[(0,a.jsx)("b",{children:"Status: "}),n||"..."]})}),o&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{autoFocus:!0,onBlur:()=>{r(!o),s(n)},onChange:e=>{l(e.currentTarget.value)},value:n})})]})},c=e=>{let{title:s,value:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[s,":"]})," ",t]})},p=e=>{let{profile:s,isOwner:t,setEditMode:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Full name"}),": ",s.fullName]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"!Yes":"No!"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Looking for a job description"}),": ",s.lookingForAJobDescription]})]}),(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[(0,a.jsx)("h4",{children:"Contacts "}),(0,a.jsx)("ul",{children:Object.keys(s.contacts).map((e=>(0,a.jsx)("li",{style:{marginLeft:"20px"},children:(0,a.jsx)(c,{title:e,value:s.contacts[e]},e)})))}),(0,a.jsx)("div",{children:t&&(0,a.jsx)("button",{onClick:()=>{i(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})]})};var h=t(1782),u=t(6139),x=t(704);const j=(0,x.Z)({form:"Contacts"})((e=>{let{handleSubmit:s,profile:t}=e;return(0,a.jsxs)("form",{onSubmit:s,children:[(0,a.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexDirection:"column",width:"450px"},children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"Full name"})," ",(0,a.jsx)(u.Z,{placeholder:"Full name",component:h.I,name:"fullName",validate:[]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"About me"})," ",(0,a.jsx)(u.Z,{placeholder:"About me",component:h.K,name:"aboutMe",validate:[]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"Looking for a job"})," ",(0,a.jsx)(u.Z,{placeholder:"",component:h.I,name:"lookingForAJob",validate:[],type:"checkbox"})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"Looking for a job Description"})," ",(0,a.jsx)(u.Z,{placeholder:"Looking For A Job Description",component:h.K,name:"lookingForAJobDescription",validate:[]})]})]}),(0,a.jsxs)("div",{style:{marginTop:"10px",width:"300px"},children:[(0,a.jsx)("h4",{children:"Contacts "}),(0,a.jsx)("ul",{children:Object.keys(t.contacts).map((e=>(0,a.jsx)("li",{style:{marginLeft:"20px"},children:(0,a.jsxs)("b",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[e,": ",(0,a.jsx)(u.Z,{placeholder:e,name:"contacts.".concat(e),validate:[],component:h.I},e)]})})))}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})})),m=e=>{let{saveProfile:s,profile:t,savePhoto:c,isOwner:h,status:u,updateStatus:x}=e;const[m,f]=(0,i.useState)(!1);if(!t)return(0,a.jsx)(n.p,{});return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:o,children:[(0,a.jsx)("img",{src:t.photos.large||l,alt:"",className:r}),(0,a.jsx)("div",{children:h&&(0,a.jsx)("input",{type:"file",onChange:e=>{null!==e.target.files&&c(e.target.files[0])}})}),(0,a.jsx)(d,{profileStatus:u,updateStatus:x}),m?(0,a.jsx)(j,{profile:t,isOwner:h,setEditMode:f,onSubmit:e=>{s(e).then((()=>{f(!1)})).catch((e=>{}))}}):(0,a.jsx)(p,{profile:t,isOwner:h,setEditMode:f})]})})},f="MyPost_content__kM9HN",v="MyPost_item__ddCw3",g="MyPost_postBlock__8viTO",b="MyPost_posts__1aSdU",y=e=>{let{message:s,likeCounts:t}=e;return(0,a.jsxs)("div",{className:v,children:[(0,a.jsx)("img",{src:l,alt:""}),s,(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Like "}),t]})]})};var P=t(8779);const C=(0,P.D)(10),k=(0,x.Z)({form:"ProfileAddNewPostForm"})((e=>(0,a.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,a.jsx)("div",{children:(0,a.jsx)(u.Z,{name:"newMessageBody",component:h.K,validate:[P.C,C],placeholder:"Post message"})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{children:"Add post"})})]}))),w=i.memo((e=>{const s=e.posts.map(((e,s)=>(0,a.jsx)(y,{message:e.message,likeCounts:e.likeCounts},s)));return(0,a.jsx)("div",{className:f,children:(0,a.jsxs)("div",{className:g,children:[(0,a.jsx)("h3",{children:"My posts"}),(0,a.jsx)(k,{onSubmit:s=>{e.addPost(s.newMessageBody)}}),(0,a.jsx)("div",{className:b,children:s})]})})}));var S=t(364),_=t(3190);const T=(0,S.$j)((e=>({posts:e.profilePage.posts})),(e=>({addPost:s=>{e((0,_.Pi)(s))}})))(w),M=e=>{let{profile:s,saveProfile:t,savePhoto:i,status:o,updateStatus:r,isOwner:n}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{profile:s,status:o,updateStatus:r,isOwner:n,savePhoto:i,saveProfile:t}),(0,a.jsx)(T,{})]})};var A=t(9271),F=t(97),N=t(6685);class O extends i.Component{constructor(e){super(e)}refreshProfile(){let e=this.props.match.params.userId;e||(e=e?String(this.props.loggedUser):"29875",e||this.props.history.push("/login")),this.props.getProfileTC(e),this.props.getUserStatusTC(e)}componentDidMount(){this.refreshProfile()}componentDidUpdate(e,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}render(){return(0,a.jsx)("div",{children:(0,a.jsx)(M,{...this.props,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusTC,savePhoto:this.props.savePhotoTC,saveProfile:this.props.saveProfileTC})})}}const D=(0,F.qC)((0,S.$j)((e=>({profile:e.profilePage.profile,status:e.profilePage.status,loggedUser:e.auth.id,isAuth:e.auth.isAuth})),{getProfileTC:N.GA,getUserStatusTC:N.Qw,updateStatusTC:N.OG,savePhotoTC:N.Tw,saveProfileTC:N.Ms}),A.EN)(O)},8962:(e,s,t)=>{e.exports=t.p+"static/media/photo.713c87a65d424c00adee.png"}}]);
//# sourceMappingURL=754.4ca45916.chunk.js.map