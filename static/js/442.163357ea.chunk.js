"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[442],{4442:(e,s,t)=>{t.r(s),t.d(s,{default:()=>O});var i=t(2791);const n="ProfileInfo_diskBlock__Hi+ni",l="ProfileInfo_ava__Bm-FQ";var o=t(5778),r=t(8962),a=t(184);const d=e=>{let{updateStatus:s,profileStatus:t}=e;(0,i.useEffect)((()=>{r(o)}),[t]);const[n,l]=(0,i.useState)(!1),[o,r]=(0,i.useState)(t);return(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[!n&&(0,a.jsx)("div",{children:(0,a.jsxs)("span",{onDoubleClick:()=>{l(!n)},children:[(0,a.jsx)("b",{children:"Status: "}),o||"..."]})}),n&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{autoFocus:!0,onBlur:()=>{l(!n),s(o)},onChange:e=>{r(e.currentTarget.value)},value:o})})]})},c=e=>{let{title:s,value:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[s,":"]})," ",t]})},x=e=>{let{profile:s,isOwner:t,setEditMode:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Full name"}),": ",s.fullName]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"!Yes":"No!"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Looking for a job description"}),": ",s.lookingForAJobDescription]})]}),(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[(0,a.jsx)("h4",{children:"Contacts "}),(0,a.jsx)("ul",{children:Object.keys(s.contacts).map((e=>(0,a.jsx)("li",{style:{marginLeft:"20px"},children:(0,a.jsx)(c,{title:e,value:s.contacts[e]},e)})))}),(0,a.jsx)("div",{children:t&&(0,a.jsx)("button",{onClick:()=>{i(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})]})};var p=t(1782),h=t(6139),j=t(704);const u=(0,j.Z)({form:"Contacts"})((e=>{let{handleSubmit:s,profile:t,setEditMode:i}=e;return(0,a.jsxs)("form",{onSubmit:s,children:[(0,a.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexDirection:"column",width:"450px"},children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"Full name"})," ",(0,a.jsx)(h.Z,{placeholder:"Full name",component:p.I,name:"fullName",validate:[]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"About me"})," ",(0,a.jsx)(h.Z,{placeholder:"About me",component:p.K,name:"aboutMe",validate:[]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"Looking for a job"})," ",(0,a.jsx)(h.Z,{placeholder:"",component:p.I,name:"lookingForAJob",validate:[],type:"checkbox"})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"Looking for a job Description"})," ",(0,a.jsx)(h.Z,{placeholder:"Looking For A Job Description",component:p.K,name:"lookingForAJobDescription",validate:[]})]})]}),(0,a.jsxs)("div",{style:{marginTop:"10px",width:"300px"},children:[(0,a.jsx)("h4",{children:"Contacts "}),(0,a.jsx)("ul",{children:Object.keys(t.contacts).map((e=>(0,a.jsx)("li",{style:{marginLeft:"20px"},children:(0,a.jsxs)("b",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[e,": ",(0,a.jsx)(h.Z,{placeholder:e,name:"contacts.".concat(e),validate:[],component:p.I},e)]})})))}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>{i(!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})}));var m=t(364),v=t(8107);const f=()=>({profile:(0,m.v9)(v.Ai),status:(0,m.v9)(v.lR),dispatch:(0,m.I0)(),loggedUser:(0,m.v9)(v.F6),isAuth:(0,m.v9)(v.Od)});var b=t(6716);const g=e=>{let{isOwner:s}=e;const{profile:t,status:c,dispatch:p}=f(),{savePhoto:h,updateStatus:j,saveProfile:m}=b.thunks,[v,g]=(0,i.useState)(!1);if(!t)return(0,a.jsx)(o.p,{});return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)("img",{src:t.photos.large||r,alt:"",className:l}),(0,a.jsx)("div",{children:s&&(0,a.jsx)("input",{type:"file",onChange:e=>{null!==e.target.files&&p(h(e.target.files[0]))}})}),(0,a.jsx)(d,{profileStatus:c,updateStatus:j}),v?(0,a.jsx)(u,{profile:t,isOwner:s,setEditMode:g,onSubmit:e=>{p(m(e))}}):(0,a.jsx)(x,{profile:t,isOwner:s,setEditMode:g})]})})},y="MyPost_content__kM9HN",k="MyPost_item__ddCw3",w="MyPost_postBlock__8viTO",C="MyPost_posts__1aSdU",_=e=>{let{message:s,likeCounts:t}=e;return(0,a.jsxs)("div",{className:k,children:[(0,a.jsx)("img",{src:r,alt:""}),s,(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Like "}),t]})]})};var S=t(8779);const M=(0,S.D)(10),F=(0,j.Z)({form:"ProfileAddNewPostForm"})((e=>(0,a.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,a.jsx)("div",{children:(0,a.jsx)(h.Z,{name:"newMessageBody",component:p.K,validate:[S.C,M],placeholder:"Post message"})}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{children:"Add post"})})]})));var P=t(3190);const A=i.memo((()=>{const{posts:e,dispatch:s}={posts:(0,m.v9)(v.Jq),dispatch:(0,m.I0)()},t=e.map(((e,s)=>(0,a.jsx)(_,{message:e.message,likeCounts:e.likeCounts},s)));return(0,a.jsx)("div",{className:y,children:(0,a.jsxs)("div",{className:w,children:[(0,a.jsx)("h3",{children:"My posts"}),(0,a.jsx)(F,{onSubmit:e=>{s(P.N.addPost(e.newMessageBody))}}),(0,a.jsx)("div",{className:C,children:t})]})})}));var N=t(9271);const O=()=>{const{userId:e}=(0,N.UO)(),s=(0,N.k6)(),t=(0,m.I0)(),{loggedUser:n}=f();return(0,i.useEffect)((()=>{(()=>{let i=e;i||(i=i?String(n):"29875",i||s.push("/login")),t(b.thunks.getProfile(+i)),t(b.thunks.getUserStatus(i))})()}),[e]),(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{isOwner:!e}),(0,a.jsx)(A,{})]})}},8962:(e,s,t)=>{e.exports=t.p+"static/media/photo.713c87a65d424c00adee.png"}}]);
//# sourceMappingURL=442.163357ea.chunk.js.map