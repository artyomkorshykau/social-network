"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[635],{2635:(e,s,l)=>{l.r(s),l.d(s,{default:()=>F});var i=l(2791),r=l(1694),t=l.n(r),n=l(184);const a=e=>{let{totalUserCount:s,pageSize:l,onPageChanged:r,currentPage:a}=e,o=Math.ceil(s/l),u=[];for(let i=1;i<=o;i+=1)u.push(i);let d=Math.ceil(o/10),[c,h]=(0,i.useState)(1),x=10*(c-1)+1,g=10*c;return(0,n.jsxs)("div",{className:"",children:[c>1&&(0,n.jsx)("button",{onClick:()=>{h(c-1)},children:"\u043f\u0440\u0435\u0434."}),u.filter((e=>e>=x&&e<=g)).map((e=>(0,n.jsx)("span",{className:t()({"":a===e},""),onClick:()=>{r(e)},children:e},e))),d>c&&(0,n.jsx)("button",{onClick:()=>{h(c+1)},children:"\u0441\u043b\u0435\u0434."})]})};var o=l(364),u=l(8490),d=l(8498);const c=e=>e.usersPage.users,h=e=>e.usersPage.pageSize,x=e=>e.usersPage.totalUserCount,g=e=>e.usersPage.currentPage,j=e=>e.usersPage.isFetching,m=e=>e.usersPage.isFollowing,p=e=>e.usersPage.filter;var v=l(2426),f=l(8962);const C={userPhoto:"user_userPhoto__ZOxjJ",selectedPage:"user_selectedPage__CvRao",user:"user_user__8e98K",userName:"user_userName__m6iat",userStatus:"user_userStatus__-WS3k"};var P=l(1625);const w=e=>{let{user:s,unFollowTC:l,followTC:i,isFollowing:r}=e;return(0,n.jsxs)("div",{className:C.user,children:[(0,n.jsx)("div",{children:(0,n.jsx)("div",{children:(0,n.jsx)(v.OL,{to:"/profile/"+s.id,children:(0,n.jsx)("img",{src:s.photos.small?s.photos.small:f,alt:"",className:C.userPhoto})})})}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:C.userName,children:s.name})}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:C.userStatus,children:s.status})}),(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:C.userId,children:["ID: ",s.id]})}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{children:s.followed})}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{children:s.followed?(0,n.jsx)(P.ZP,{disabled:r.some((e=>e===s.id)),onClick:()=>{l(s.id)},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):(0,n.jsx)(P.ZP,{disabled:r.some((e=>e===s.id)),onClick:()=>{i(s.id)},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})})]})};var _=l(5705);const k=i.memo((e=>{let{onFilterChanged:s}=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:"\u041f\u043e\u0438\u0441\u043a"}),(0,n.jsx)(_.J9,{initialValues:{term:"",friend:null},onSubmit:(e,l)=>{let{setSubmitting:i}=l;s(e),i(!1)},children:e=>{let{isSubmitting:s}=e;return(0,n.jsxs)("form",{children:[(0,n.jsx)(_.gN,{type:"text",name:"term"}),(0,n.jsxs)(_.gN,{name:"friend",as:"select",placeholder:"All user",children:[(0,n.jsx)("option",{value:"null",children:"\u0412\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),(0,n.jsx)("option",{value:"true",children:"\u041c\u043e\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"})]}),(0,n.jsx)("button",{type:"submit",disabled:s,children:"\u041d\u0430\u0439\u0442\u0438"})]})}})]})})),F=()=>{const{filter:e,users:s,totalUserCount:l,pageSize:r,currentPage:t,isFollowing:v,isFetching:f}={totalUserCount:(0,o.v9)(x),currentPage:(0,o.v9)(g),pageSize:(0,o.v9)(h),users:(0,o.v9)(c),isFollowing:(0,o.v9)(m),filter:(0,o.v9)(p),isFetching:(0,o.v9)(j)},C=(0,o.I0)();(0,i.useEffect)((()=>{C(u.thunks.getUsers(t,r,e))}),[]);const P=e=>{C(u.thunks.follow(e))},_=e=>{C(u.thunks.unFollow(e))};return(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,n.jsx)(k,{onFilterChanged:e=>{C(u.thunks.getUsers(1,r,e))}}),(0,n.jsx)(a,{totalUserCount:l,pageSize:r,currentPage:t,onPageChanged:s=>{C(u.thunks.getUsers(s,r,e))}}),f?(0,n.jsx)(d.p,{}):null,(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:" 10px",height:"200px"},children:s.map((e=>(0,n.jsx)(w,{followTC:P,isFollowing:v,unFollowTC:_,user:e},e.id)))})]})}},8962:(e,s,l)=>{e.exports=l.p+"static/media/photo.713c87a65d424c00adee.png"}}]);
//# sourceMappingURL=635.9ece2309.chunk.js.map