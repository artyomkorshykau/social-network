"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[639],{3639:(e,s,t)=>{t.r(s),t.d(s,{default:()=>U});var i=t(2791),l=t(9723),n=t(364);const r=e=>e.profilePage.posts,o=e=>e.profilePage.profile,a=e=>e.profilePage.status;var d=t(594);const c=()=>({profile:(0,n.v9)(o),status:(0,n.v9)(a),dispatch:(0,n.I0)(),loggedUser:(0,n.v9)(d.F6),isAuth:(0,n.v9)(d.Od)});var p=t(8490);const x="profile-info_diskBlock__Nualw",h="profile-info_ava__KoqzI";var j=t(8962),u=t(2351),m=t(2631),f=t(1625),v=t(4925),g=t(8498),y=t(6139),b=t(704),k=t(6456),_=t(1926),w=t(184);const C=(0,b.Z)({form:"Contacts"})((e=>{let{handleSubmit:s,profile:t,setEditMode:i}=e;return(0,w.jsxs)("form",{onSubmit:s,children:[(0,w.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexDirection:"column",width:"450px"},children:[(0,w.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,w.jsx)("b",{children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"})," ",(0,w.jsx)(y.Z,{placeholder:"\u0418\u0432\u0430\u043d \u0438\u0432\u0430\u043d\u043e\u0432",component:k.default,name:"fullName",validate:[]})]}),(0,w.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,w.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"})," ",(0,w.jsx)(y.Z,{placeholder:"About me",component:_.g,name:"aboutMe",validate:[]})]}),(0,w.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,w.jsx)("b",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"})," ",(0,w.jsx)(y.Z,{placeholder:"",component:k.default,name:"lookingForAJob",validate:[],type:"checkbox"})]}),(0,w.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,w.jsx)("b",{children:"\u041e \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0435"})," ",(0,w.jsx)(y.Z,{placeholder:"Looking For A Job Description",component:_.g,name:"lookingForAJobDescription",validate:[]})]})]}),(0,w.jsxs)("div",{style:{marginTop:"10px",width:"300px"},children:[(0,w.jsx)("h4",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b "}),(0,w.jsx)("ul",{children:Object.keys(t.contacts).map((e=>(0,w.jsx)("li",{style:{marginLeft:"20px"},children:(0,w.jsxs)("b",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[e,": ",(0,w.jsx)(y.Z,{placeholder:e,name:"contacts.".concat(e),validate:[],component:k.default},e)]})})))}),(0,w.jsx)("div",{children:(0,w.jsx)(f.ZP,{ghost:!0,type:"primary",onClick:()=>{i(!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})})),S=e=>{let{title:s,value:t}=e;return(0,w.jsxs)("div",{children:[(0,w.jsxs)("b",{children:[s,":"]})," ",t]})},Z=e=>{let{profile:s,isOwner:t,setEditMode:i}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{style:{marginTop:"10px"},children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("b",{children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"}),": ",s.fullName]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),": ",s.aboutMe]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("b",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"}),": ",s.lookingForAJob?"!Yes":"No!"]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("b",{children:"\u041e \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0435"}),": ",s.lookingForAJobDescription]})]}),(0,w.jsxs)("div",{style:{marginTop:"10px"},children:[(0,w.jsx)("h4",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b "}),(0,w.jsx)("ul",{children:Object.keys(s.contacts).map((e=>(0,w.jsx)("li",{style:{marginLeft:"20px"},children:(0,w.jsx)(S,{title:e,value:s.contacts[e]},e)})))}),(0,w.jsx)("div",{children:t&&(0,w.jsx)(f.ZP,{ghost:!0,type:"primary",onClick:()=>{i(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})]})},P=e=>{let{updateStatus:s,profileStatus:t}=e;(0,i.useEffect)((()=>{o(r)}),[t]);const[l,n]=(0,i.useState)(!1),[r,o]=(0,i.useState)(t);return(0,w.jsxs)("div",{style:{marginTop:"10px"},children:[!l&&(0,w.jsx)("div",{children:(0,w.jsx)("span",{onDoubleClick:()=>{n(!l)},children:r||"..."})}),l&&(0,w.jsx)("div",{children:(0,w.jsx)("input",{autoFocus:!0,onBlur:()=>{n(!l),s(r)},onChange:e=>{o(e.currentTarget.value)},value:r})})]})},N=e=>{let{isOwner:s}=e;const{profile:t,status:l,dispatch:n}=c(),{savePhoto:r,updateStatus:o,saveProfile:a}=p.thunks,[d,y]=(0,i.useState)(!1);if(!t)return(0,w.jsx)(g.p,{});const b=[{key:"1",label:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",children:d?(0,w.jsx)(C,{profile:t,isOwner:s,setEditMode:y,onSubmit:e=>{n(a(e))}}):(0,w.jsx)(Z,{profile:t,isOwner:s,setEditMode:y})}];return(0,w.jsx)("div",{children:(0,w.jsxs)("div",{className:x,children:[(0,w.jsx)("img",{src:t.photos.large||j,alt:"",className:h}),(0,w.jsx)("div",{children:s&&(0,w.jsx)(m.Z,{...e=>{null!==e.target.files&&n(r(e.target.files[0]))},children:(0,w.jsx)(f.ZP,{icon:(0,w.jsx)(u.Z,{}),children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})})}),(0,w.jsx)(P,{profileStatus:l,updateStatus:o}),(0,w.jsx)(v.Z,{items:b,ghost:!0})]})})},F="my-post_content__najiG",A="my-post_postBlock__kWlnD",O="my-post_posts__GTYHG";var M=t(3190);const D="post_item__GI50+",E=e=>{let{message:s,likeCounts:t}=e;return(0,w.jsxs)("div",{className:D,children:[(0,w.jsx)("img",{src:j,alt:""}),s,(0,w.jsxs)("div",{children:[(0,w.jsx)("span",{children:"\u041d\u0440\u0430\u0432\u0438\u0442\u044c\u0441\u044f "}),t]})]})},T="add-new-post-form_newPostForm__2YpEA";var I=t(1871);const B=(0,I.D)(10),J=(0,b.Z)({form:"ProfileAddNewPostForm"})((e=>(0,w.jsxs)("form",{onSubmit:e.handleSubmit,className:T,children:[(0,w.jsx)("div",{children:(0,w.jsx)(y.Z,{name:"newMessageBody",component:_.g,validate:[I.C,B],placeholder:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c"})}),(0,w.jsx)("div",{children:(0,w.jsx)(f.ZP,{ghost:!0,type:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"})})]}))),G=i.memo((()=>{const{posts:e,dispatch:s}={posts:(0,n.v9)(r),dispatch:(0,n.I0)()},t=e.map(((e,s)=>(0,w.jsx)(E,{message:e.message,likeCounts:e.likeCounts},s)));return(0,w.jsx)("div",{className:F,children:(0,w.jsxs)("div",{className:A,children:[(0,w.jsx)(J,{onSubmit:e=>{s(M.N.addPost(e.newMessageBody))}}),(0,w.jsx)("div",{className:O,children:t})]})})})),U=()=>{const{userId:e}=(0,l.UO)(),s=(0,l.k6)(),t=(0,n.I0)(),{loggedUser:r}=c();return(0,i.useEffect)((()=>{(()=>{let i=e;i||(i=i?String(r):"29875",i||s.push("/login")),t(p.thunks.getProfile(+i)),t(p.thunks.getUserStatus(i))})()}),[e]),(0,w.jsxs)("div",{children:[(0,w.jsx)(N,{isOwner:!e}),(0,w.jsx)(G,{})]})}},8962:(e,s,t)=>{e.exports=t.p+"static/media/photo.713c87a65d424c00adee.png"}}]);
//# sourceMappingURL=639.8788722b.chunk.js.map