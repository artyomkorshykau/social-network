"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[380],{7284:function(n,e,t){t.d(e,{D:function(){return c}});var o=t(6515),r=t(3738),s=(t(2791),t(9271)),i=t(364),l=t(184),u=["isAuth"],a=function(n){return{isAuth:n.auth.isAuth}};function c(n){return(0,i.$j)(a)((function(e){var t=e.isAuth,i=(0,r.Z)(e,u);return t?(0,l.jsx)(n,(0,o.Z)({},i)):(0,l.jsx)(s.l_,{to:"/login"})}))}},3380:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var o=t(7853),r=t(4531),s=t(8932),i=t(7070),l=t(2791),u=t(364),a=t(3430),c={userPhoto:"Users_userPhoto__3SOne",selectedPage:"Users_selectedPage__6kInd"},h=t(184),g=function(n){for(var e=Math.ceil(n.totalUserCount/n.pageSize),t=[],o=1;o<=e;o+=1)t.push(o);var r=Math.ceil(e/10),s=(0,l.useState)(1),i=(0,a.Z)(s,2),u=i[0],g=i[1],p=10*(u-1)+1,f=10*u;return(0,h.jsxs)("div",{className:c.pagination,children:[u>1&&(0,h.jsx)("button",{onClick:function(){g(u-1)},children:"\u043f\u0440\u0435\u0434."}),t.filter((function(n){return n>=p&&n<=f})).map((function(e){return(0,h.jsx)("span",{onClick:function(t){n.onPageChanged(e)},children:e},e)})),r>u&&(0,h.jsx)("button",{onClick:function(){g(u+1)},children:"\u0441\u043b\u0435\u0434."})]})},p=t(1523),f=t(6396),d=function(n){var e=n.user;return(0,h.jsxs)("div",{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:(0,h.jsx)(p.OL,{to:"/profile/"+n.user.id,children:(0,h.jsx)("img",{src:e.photos.small?e.photos.small:f,alt:"",className:c.userPhoto})})}),(0,h.jsx)("div",{children:e.followed?(0,h.jsx)("button",{disabled:n.isFollowing.some((function(n){return n===e.id})),onClick:function(){n.unFollowTC(e.id)},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):(0,h.jsx)("button",{disabled:n.isFollowing.some((function(n){return n===e.id})),onClick:function(){n.followTC(e.id)},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})]}),(0,h.jsxs)("span",{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:e.name}),(0,h.jsx)("div",{children:e.status})]}),(0,h.jsxs)("span",{children:[(0,h.jsx)("div",{children:e.id}),(0,h.jsx)("div",{children:e.followed})]})]})]})},C=function(n){return(0,h.jsxs)("div",{children:[(0,h.jsx)(g,{totalUserCount:n.totalUserCount,pageSize:n.pageSize,currentPage:n.currentPage,onPageChanged:n.onPageChanged}),n.users.map((function(e){return(0,h.jsx)(d,{followTC:n.followTC,isFollowing:n.isFollowing,unFollowTC:n.unFollowTC,user:e},e.id)}))]})},w=t(5778),j=t(7284),v=t(1666),x=function(n){return n.usersPage.users},F=function(n){return n.usersPage.pageSize},P=function(n){return n.usersPage.totalUserCount},m=function(n){return n.usersPage.currentPage},b=function(n){return n.usersPage.isFetching},y=function(n){return n.usersPage.isFollowing},T=t(3190),S=t(6984),U=function(n){(0,s.Z)(t,n);var e=(0,i.Z)(t);function t(){var n;(0,o.Z)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(n=e.call.apply(e,[this].concat(s))).onPageChanged=function(e){n.props.pageChangedTC(e,n.props.pageSize)},n}return(0,r.Z)(t,[{key:"componentDidMount",value:function(){this.props.getUsersTC(this.props.currentPage,this.props.pageSize,this.props.users)}},{key:"render",value:function(){return(0,h.jsxs)(h.Fragment,{children:[this.props.isFetching?(0,h.jsx)(w.p,{}):null,(0,h.jsx)(C,{onPageChanged:this.onPageChanged,totalUserCount:this.props.totalUserCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,isFetching:this.props.isFetching,toggleIsFollowing:this.props.toggleIsFollowing,isFollowing:this.props.isFollowing,followTC:this.props.followTC,unFollowTC:this.props.unFollowTC})]})}}]),t}(l.Component),k=(0,v.qC)((0,u.$j)((function(n){return{users:x(n),pageSize:F(n),totalUserCount:P(n),currentPage:m(n),isFetching:b(n),isFollowing:y(n)}}),{follow:T.ZN,unfollow:T.fv,setUser:T.av,setPage:T.YA,setTotalUserCount:T.dQ,toggleIsFetching:T.MO,toggleIsFollowing:T.zF,getUsersTC:S.Zw,pageChangedTC:S.U7,followTC:S.iR,unFollowTC:S.NK}),j.D)(U)},6396:function(n,e,t){n.exports=t.p+"static/media/ava.ccaad4cbb325e6ac69c7.jpg"},3430:function(n,e,t){t.d(e,{Z:function(){return r}});var o=t(2327);function r(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,r,s,i,l=[],u=!0,a=!1;try{if(s=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(o=s.call(t)).done)&&(l.push(o.value),l.length!==e);u=!0);}catch(c){a=!0,r=c}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(a)throw r}}return l}}(n,e)||(0,o.Z)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=380.d8f2b9bf.chunk.js.map