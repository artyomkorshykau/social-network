"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[900],{7900:(e,s,r)=>{r.r(s),r.d(s,{default:()=>x});var t=r(2791),a=r(364),n=r(6716),i=r(8107),l=r(184);const c=()=>{const[e,s]=(0,t.useState)(""),r=(0,a.v9)(i.L5),c=(0,a.I0)();return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsx)("textarea",{onChange:e=>s(e.currentTarget.value),value:e})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{disabled:"pending"===r,onClick:()=>{e&&(c(n.thunks.sendMessage(e)),s(""))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})},u=e=>{let{message:s}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{src:s.photo,alt:"avatar",width:"40px"}),(0,l.jsx)("b",{children:s.userName}),(0,l.jsx)("br",{}),s.message,(0,l.jsx)("hr",{})]})},d="Messages_messages__gee4N",h=()=>{const e=(0,a.v9)(i.b6),s=(0,t.useRef)(null),[r,n]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{var e;r&&(null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),(0,l.jsxs)("div",{className:d,onScroll:e=>{let s=e.currentTarget;Math.abs(s.scrollHeight-s.scrollTop)-s.clientHeight<300?!r&&n(!0):r&&n(!1)},children:[e.map(((e,s)=>(0,l.jsx)(u,{message:e},s))),(0,l.jsx)("div",{ref:s})]})},o=()=>{const e=(0,a.I0)(),s=(0,a.v9)(i.L5);return(0,t.useEffect)((()=>(e(n.thunks.messagesListening()),()=>{e(n.thunks.stopMessagesListening())})),[]),(0,l.jsxs)("div",{children:["error"===s&&(0,l.jsx)("div",{children:"Error! Please refresh the page."}),(0,l.jsx)(h,{}),(0,l.jsx)(c,{})]})},x=()=>(0,l.jsx)("div",{children:(0,l.jsx)(o,{})})}}]);
//# sourceMappingURL=900.79c6430a.chunk.js.map