"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[616],{7616:function(t,e,s){s.r(e),s.d(e,{default:function(){return B}});var n=s(6515),r=s(7853),i=s(4531),o=s(8932),u=s(7070),a=s(2791),l="ProfileInfo_diskBlock__Aupm-",c="ProfileInfo_ava__7Eanh",d=s(5778),p=s(6396),f=s(3430),h=s(184),m=function(t){(0,a.useEffect)((function(){l(t.status)}),[t.status]);var e=(0,a.useState)(!1),s=(0,f.Z)(e,2),n=s[0],r=s[1],i=(0,a.useState)(t.status),o=(0,f.Z)(i,2),u=o[0],l=o[1];return(0,h.jsxs)(h.Fragment,{children:[!n&&(0,h.jsx)("div",{children:(0,h.jsxs)("span",{onDoubleClick:function(){r(!n)},children:[" - ",t.status||"..."]})}),n&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{autoFocus:!0,onBlur:function(){r(!n),t.updateStatus(u)},onChange:function(t){l(t.currentTarget.value)},value:u})})]})},j=function(t){return t.profile?(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:l,children:[(0,h.jsx)("img",{src:t.profile.photos.small||p,alt:"",className:c}),(0,h.jsx)(m,{status:t.status,updateStatus:t.updateStatus}),(0,h.jsxs)("div",{children:["- ",t.profile.aboutMe]}),(0,h.jsxs)("div",{children:["- ",t.profile.lookingForAJob]}),(0,h.jsxs)("div",{children:["- ",t.profile.fullName]})]})}):(0,h.jsx)(d.p,{})},v="MyPost_content__vESW5",x="MyPost_item__OmEV-",g="MyPost_postBlock__7PWqt",y="MyPost_posts__YCMOS",S=function(t){return(0,h.jsxs)("div",{className:x,children:[(0,h.jsx)("img",{src:p,alt:""}),t.message,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"Like "}),t.likeCounts]})]})},b=s(6139),P=s(704),_=s(8779),C=s(1782),k=a.memo((function(t){console.log("render");var e=t.posts.map((function(t,e){return(0,h.jsx)(S,{message:t.message,likeCounts:t.likeCounts},e)}));return(0,h.jsx)("div",{className:v,children:(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(w,{onSubmit:function(e){t.addPost(e.newPostElement)}}),(0,h.jsx)("div",{className:y,children:e})]})})})),Z=(0,_.D)(10),w=(0,P.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,h.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(b.Z,{name:"newPostElement",component:C.K,validate:[_.C,Z],placeholder:"Post message"})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),A=k,N=s(364),E=s(3190),M=(0,N.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t((0,E.Pi)(e))}}}))(A),T=function(t){return(0,h.jsxs)("div",{children:[(0,h.jsx)(j,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(M,{})]})},I=s(9271),O=s(1666),F=s(6984),U=function(t){(0,o.Z)(s,t);var e=(0,u.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=t?String(this.props.loggedUser):"29875")||this.props.history.push("/login"),this.props.getProfileTC(t),this.props.getUserStatusTC(t)}},{key:"render",value:function(){return(0,h.jsx)("div",{children:(0,h.jsx)(T,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusTC}))})}}]),s}(a.Component),B=(0,O.qC)((0,N.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,loggedUser:t.auth.id,isAuth:t.auth.isAuth}}),{getProfileTC:F.GA,getUserStatusTC:F.Qw,updateStatusTC:F.OG}),I.EN)(U)},6396:function(t,e,s){t.exports=s.p+"static/media/ava.ccaad4cbb325e6ac69c7.jpg"},3430:function(t,e,s){s.d(e,{Z:function(){return r}});var n=s(2327);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var s=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=s){var n,r,i,o,u=[],a=!0,l=!1;try{if(i=(s=s.call(t)).next,0===e){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(u.push(n.value),u.length!==e);a=!0);}catch(c){l=!0,r=c}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(l)throw r}}return u}}(t,e)||(0,n.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=616.1a72ed14.chunk.js.map