"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[614],{9614:(e,s,t)=>{t.r(s),t.d(s,{default:()=>J});var i=t(2791);const n="ProfileInfo_diskBlock__Hi+ni",l="ProfileInfo_ava__Bm-FQ";var o=t(8841),r=t(8962),a=t(184);const d=e=>{let{updateStatus:s,profileStatus:t}=e;(0,i.useEffect)((()=>{r(o)}),[t]);const[n,l]=(0,i.useState)(!1),[o,r]=(0,i.useState)(t);return(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[!n&&(0,a.jsx)("div",{children:(0,a.jsx)("span",{onDoubleClick:()=>{l(!n)},children:o||"..."})}),n&&(0,a.jsx)("div",{children:(0,a.jsx)("input",{autoFocus:!0,onBlur:()=>{l(!n),s(o)},onChange:e=>{r(e.currentTarget.value)},value:o})})]})},c=e=>{let{title:s,value:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:[s,":"]})," ",t]})};var x=t(1625);const p=e=>{let{profile:s,isOwner:t,setEditMode:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Full name"}),": ",s.fullName]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"About me"}),": ",s.aboutMe]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Looking for a job"}),": ",s.lookingForAJob?"!Yes":"No!"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Looking for a job description"}),": ",s.lookingForAJobDescription]})]}),(0,a.jsxs)("div",{style:{marginTop:"10px"},children:[(0,a.jsx)("h4",{children:"Contacts "}),(0,a.jsx)("ul",{children:Object.keys(s.contacts).map((e=>(0,a.jsx)("li",{style:{marginLeft:"20px"},children:(0,a.jsx)(c,{title:e,value:s.contacts[e]},e)})))}),(0,a.jsx)("div",{children:t&&(0,a.jsx)(x.ZP,{ghost:!0,type:"primary",onClick:()=>{i(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})]})};var h=t(1367),j=t(6139),u=t(704);const m=(0,u.Z)({form:"Contacts"})((e=>{let{handleSubmit:s,profile:t,setEditMode:i}=e;return(0,a.jsxs)("form",{onSubmit:s,children:[(0,a.jsxs)("div",{style:{marginTop:"10px",display:"flex",flexDirection:"column",width:"450px"},children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"Full name"})," ",(0,a.jsx)(j.Z,{placeholder:"Full name",component:h.I,name:"fullName",validate:[]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"About me"})," ",(0,a.jsx)(j.Z,{placeholder:"About me",component:h.j,name:"aboutMe",validate:[]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"Looking for a job"})," ",(0,a.jsx)(j.Z,{placeholder:"",component:h.I,name:"lookingForAJob",validate:[],type:"checkbox"})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[(0,a.jsx)("b",{children:"Looking for a job Description"})," ",(0,a.jsx)(j.Z,{placeholder:"Looking For A Job Description",component:h.j,name:"lookingForAJobDescription",validate:[]})]})]}),(0,a.jsxs)("div",{style:{marginTop:"10px",width:"300px"},children:[(0,a.jsx)("h4",{children:"Contacts "}),(0,a.jsx)("ul",{children:Object.keys(t.contacts).map((e=>(0,a.jsx)("li",{style:{marginLeft:"20px"},children:(0,a.jsxs)("b",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[e,": ",(0,a.jsx)(j.Z,{placeholder:e,name:"contacts.".concat(e),validate:[],component:h.I},e)]})})))}),(0,a.jsx)("div",{children:(0,a.jsx)(x.ZP,{ghost:!0,type:"primary",onClick:()=>{i(!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})}));var v=t(364),f=t(8107);const g=()=>({profile:(0,v.v9)(f.Ai),status:(0,v.v9)(f.lR),dispatch:(0,v.I0)(),loggedUser:(0,v.v9)(f.F6),isAuth:(0,v.v9)(f.Od)});var b=t(6716),y=t(2351),k=t(2631),_=t(4925);const w=e=>{let{isOwner:s}=e;const{profile:t,status:c,dispatch:h}=g(),{savePhoto:j,updateStatus:u,saveProfile:v}=b.thunks,[f,w]=(0,i.useState)(!1);if(!t)return(0,a.jsx)(o.p,{});const C=[{key:"1",label:"More info",children:f?(0,a.jsx)(m,{profile:t,isOwner:s,setEditMode:w,onSubmit:e=>{h(v(e))}}):(0,a.jsx)(p,{profile:t,isOwner:s,setEditMode:w})}];return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)("img",{src:t.photos.large||r,alt:"",className:l}),(0,a.jsx)("div",{children:s&&(0,a.jsx)(k.Z,{...e=>{null!==e.target.files&&h(j(e.target.files[0]))},children:(0,a.jsx)(x.ZP,{icon:(0,a.jsx)(y.Z,{}),children:"Change photo"})})}),(0,a.jsx)(d,{profileStatus:c,updateStatus:u}),(0,a.jsx)(_.Z,{items:C,ghost:!0})]})})},C="MyPost_content__kM9HN",P="MyPost_item__ddCw3",S="MyPost_postBlock__8viTO",F="MyPost_posts__1aSdU",M=e=>{let{message:s,likeCounts:t}=e;return(0,a.jsxs)("div",{className:P,children:[(0,a.jsx)("img",{src:r,alt:""}),s,(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Like "}),t]})]})};var Z=t(3190),N=t(8779);const A="AddNewPostForm_newPostForm__QsJ6u",O=(0,N.D)(10),I=(0,u.Z)({form:"ProfileAddNewPostForm"})((e=>(0,a.jsxs)("form",{onSubmit:e.handleSubmit,className:A,children:[(0,a.jsx)("div",{children:(0,a.jsx)(j.Z,{name:"newMessageBody",component:h.j,validate:[N.C,O],placeholder:"Post message"})}),(0,a.jsx)("div",{children:(0,a.jsx)(x.ZP,{ghost:!0,type:"primary",children:"Add post"})})]}))),L=i.memo((()=>{const{posts:e,dispatch:s}={posts:(0,v.v9)(f.Jq),dispatch:(0,v.I0)()},t=e.map(((e,s)=>(0,a.jsx)(M,{message:e.message,likeCounts:e.likeCounts},s)));return(0,a.jsx)("div",{className:C,children:(0,a.jsxs)("div",{className:S,children:[(0,a.jsx)("h3",{children:"My posts"}),(0,a.jsx)(I,{onSubmit:e=>{s(Z.N.addPost(e.newMessageBody))}}),(0,a.jsx)("div",{className:F,children:t})]})})}));var D=t(9723);const J=()=>{const{userId:e}=(0,D.UO)(),s=(0,D.k6)(),t=(0,v.I0)(),{loggedUser:n}=g();return(0,i.useEffect)((()=>{(()=>{let i=e;i||(i=i?String(n):"29875",i||s.push("/login")),t(b.thunks.getProfile(+i)),t(b.thunks.getUserStatus(i))})()}),[e]),(0,a.jsxs)("div",{children:[(0,a.jsx)(w,{isOwner:!e}),(0,a.jsx)(L,{})]})}},8962:(e,s,t)=>{e.exports=t.p+"static/media/photo.713c87a65d424c00adee.png"}}]);
//# sourceMappingURL=614.f48fc82c.chunk.js.map